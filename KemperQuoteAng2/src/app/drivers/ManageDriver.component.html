
<form (ngSubmit)="onSubmit()" [formGroup]="driversForm" >
    <div>
        <h1 mat-dialog-title>
            <span><mat-icon>create</mat-icon>{{modalTitle}}</span>
            
        </h1>
        <button class="btn btn-info" type="button" (click)="dialogRef.close()">Cancel</button>&nbsp;
        <button type="submit" class="btn btn-danger" [disabled]="driversForm.invalid">{{modalBtnTitle}}</button>
        <br /><br />
    </div>
    <div style="padding-bottom:1px;background-color:#d8d8d8"></div>

        <div class="form-group ">
            <div formGroupName="Driver1">
                <label class="center-block">
                    <mat-form-field style="width:100%">
                        <input matInput formControlName="IpDrivFirst" placeholder="First Name">
                    </mat-form-field>
                    <div *ngIf="Driver1FirstName.invalid && (Driver1FirstName.dirty || Driver1FirstName.touched)"
                         class="alert alert-danger">
                        <div *ngIf="Driver1FirstName.errors.required">
                            First Name is required.
                        </div>
                    </div>
                </label>
                <label class="center-block">
                    <mat-form-field style="width:100%">
                        <input matInput maxlength="30" formControlName="IpDrivLast" placeholder="Last Name">
                    </mat-form-field>
                    <div *ngIf="Driver1LastName.invalid && (Driver1LastName.dirty || Driver1LastName.touched)"
                         class="alert alert-danger">

                        <div *ngIf="Driver1LastName.errors.required">
                            Last Name is required.
                        </div>
                    </div>
                </label>
                <label class="center-block">
                    <mat-form-field style="width:100%">
                        <mat-select formControlName="IpRelationToResp" [(value)]="selectedRelationshipOption" placeholder="Relationship">
                            <mat-option *ngFor="let option of RelationshipOptions"
                                        [value]="option.Value">
                                {{ option.Description }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <div *ngIf="Driver1Relationship.invalid && (Driver1Relationship.dirty || Driver1Relationship.touched)"
                         class="alert alert-danger">

                        <div *ngIf="Driver1LastName.errors.required">
                            Please select relationship.
                        </div>
                    </div>
                </label>
                <label class="center-block">
                    <mat-form-field style="width:100%">
                        <mat-select formControlName="IpDrivMarriedSingle" [(value)]="selectedRMaritalStusOption" placeholder="Marital Status">
                            <mat-option *ngFor="let option of MaritalStatusOptions"
                                        [value]="option.Value">
                                {{ option.Description }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <div *ngIf="Driver1MarriedSingle.invalid && (Driver1MarriedSingle.dirty || Driver1MarriedSingle.touched)"
                         class="alert alert-danger">

                        <div *ngIf="Driver1LastName.errors.required">
                            Please select marital status.
                        </div>
                    </div>
                </label>
                <label class="center-block">
                    <mat-form-field>
                        <input formControlName="IpBirthDateOfDriv"
                               matInput
                               [matDatepicker]="dpBirthDate"
                               placeholder="Birth Date"
                               [formControl]="serializedDOB"
                               (dateChange)="updateBirthDateControl($event)"
                               [min]="minDOB"
                               [max]="maxDOB">

                        <mat-datepicker-toggle matSuffix [for]="dpBirthDate"></mat-datepicker-toggle>
                        <mat-datepicker #dpBirthDate></mat-datepicker>
                    </mat-form-field>
                    <div *ngIf="Driver1BirthDate.invalid && (Driver1BirthDate.dirty || Driver1BirthDate.touched)"
                         class="alert alert-danger">
                        <div *ngIf="Driver1BirthDate.errors.required">
                            Valid Birth date required.
                        </div>
                        <div *ngIf="Driver1BirthDate.invalid">
                            invalid birth date.
                        </div>
                    </div>
                </label>
                <label class="center-block">
                    <mat-radio-group formControlName="IpDrivSex">
                        <mat-radio-button value="1">Male</mat-radio-button>
                        <mat-radio-button value="2">Female</mat-radio-button>
                    </mat-radio-group>
                    <div *ngIf="Driver1Sex.invalid "
                         class="alert alert-danger">
                        <div *ngIf="Driver1Sex.errors.required && (Driver1Sex.dirty || Driver1Sex.touched)">
                            Gender required.
                        </div>
                    </div>
                </label>
            </div>
        </div>
    <mat-dialog-actions class="mat-dialog-footer">
        <button class="btn btn-info" type="button" (click)="dialogRef.close()">Cancel</button>&nbsp;
        <button type="submit" class="btn btn-danger" [disabled]="driversForm.invalid" >{{modalBtnTitle}}</button>

    </ mat-dialog-actions>
</form>
